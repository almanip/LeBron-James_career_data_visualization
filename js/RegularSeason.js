var saiji = []
var shijian = []
var sanfen = []
var toulan = []
var defen = []
var lanban = []
var zhugong = []
var mymin, mymax
var display = []

var RegularData = [
  {
    "赛季": "03-04",
    "球队": "骑士",
    "出场": 79,
    "首发": 79,
    "时间": 39.5,
    "投篮": "41.7%",
    "投篮命中": 7.9,
    "投篮出手": 18.9,
    "三分": "29.0%",
    "三分命中": 0.8,
    "三分出手": 2.7,
    "罚球": "75.4%",
    "罚球命中": 4.4,
    "罚球出手": 5.8,
    "篮板": 5.5,
    "前场": 1.3,
    "后场": 4.2,
    "助攻": 5.9,
    "抢断": 1.6,
    "盖帽": 0.7,
    "失误": 3.5,
    "犯规": 1.9,
    "得分": 20.9,
    "胜": 33,
    "负": 46
  },
  {
    "赛季": "04-05",
    "球队": "骑士",
    "出场": 80,
    "首发": 80,
    "时间": 42.4,
    "投篮": "47.2%",
    "投篮命中": 9.9,
    "投篮出手": 21.1,
    "三分": "35.1%",
    "三分命中": 1.4,
    "三分出手": 3.9,
    "罚球": "75.0%",
    "罚球命中": 6,
    "罚球出手": 8,
    "篮板": 7.4,
    "前场": 1.4,
    "后场": 6,
    "助攻": 7.2,
    "抢断": 2.2,
    "盖帽": 0.7,
    "失误": 3.3,
    "犯规": 1.8,
    "得分": 27.2,
    "胜": 41,
    "负": 39
  },
  {
    "赛季": "05-06",
    "球队": "骑士",
    "出场": 79,
    "首发": 79,
    "时间": 42.5,
    "投篮": "48.0%",
    "投篮命中": 11.1,
    "投篮出手": 23.1,
    "三分": "33.5%",
    "三分命中": 1.6,
    "三分出手": 4.8,
    "罚球": "73.8%",
    "罚球命中": 7.6,
    "罚球出手": 10.3,
    "篮板": 7,
    "前场": 0.9,
    "后场": 6.1,
    "助攻": 6.6,
    "抢断": 1.6,
    "盖帽": 0.8,
    "失误": 3.3,
    "犯规": 2.3,
    "得分": 31.4,
    "胜": 47,
    "负": 32
  },
  {
    "赛季": "06-07",
    "球队": "骑士",
    "出场": 78,
    "首发": 78,
    "时间": 40.9,
    "投篮": "47.6%",
    "投篮命中": 9.9,
    "投篮出手": 20.8,
    "三分": "31.9%",
    "三分命中": 1.3,
    "三分出手": 4,
    "罚球": "69.8%",
    "罚球命中": 6.3,
    "罚球出手": 9,
    "篮板": 6.7,
    "前场": 1.1,
    "后场": 5.7,
    "助攻": 6,
    "抢断": 1.6,
    "盖帽": 0.7,
    "失误": 3.2,
    "犯规": 2.2,
    "得分": 27.3,
    "胜": 47,
    "负": 31
  },
  {
    "赛季": "07-08",
    "球队": "骑士",
    "出场": 75,
    "首发": 74,
    "时间": 40.4,
    "投篮": "48.4%",
    "投篮命中": 10.6,
    "投篮出手": 21.9,
    "三分": "31.5%",
    "三分命中": 1.5,
    "三分出手": 4.8,
    "罚球": "71.2%",
    "罚球命中": 7.3,
    "罚球出手": 10.3,
    "篮板": 7.9,
    "前场": 1.8,
    "后场": 6.1,
    "助攻": 7.2,
    "抢断": 1.8,
    "盖帽": 1.1,
    "失误": 3.4,
    "犯规": 2.2,
    "得分": 30,
    "胜": 45,
    "负": 30
  },
  {
    "赛季": "08-09",
    "球队": "骑士",
    "出场": 81,
    "首发": 81,
    "时间": 37.7,
    "投篮": "48.9%",
    "投篮命中": 9.7,
    "投篮出手": 19.9,
    "三分": "34.4%",
    "三分命中": 1.6,
    "三分出手": 4.7,
    "罚球": "78.0%",
    "罚球命中": 7.3,
    "罚球出手": 9.4,
    "篮板": 7.6,
    "前场": 1.3,
    "后场": 6.3,
    "助攻": 7.2,
    "抢断": 1.7,
    "盖帽": 1.1,
    "失误": 3,
    "犯规": 1.7,
    "得分": 28.4,
    "胜": 66,
    "负": 15
  },
  {
    "赛季": "09-10",
    "球队": "骑士",
    "出场": 76,
    "首发": 76,
    "时间": 39,
    "投篮": "50.3%",
    "投篮命中": 10.1,
    "投篮出手": 20.1,
    "三分": "33.3%",
    "三分命中": 1.7,
    "三分出手": 5.1,
    "罚球": "76.7%",
    "罚球命中": 7.8,
    "罚球出手": 10.2,
    "篮板": 7.3,
    "前场": 0.9,
    "后场": 6.4,
    "助攻": 8.6,
    "抢断": 1.6,
    "盖帽": 1,
    "失误": 3.4,
    "犯规": 1.6,
    "得分": 29.7,
    "胜": 60,
    "负": 16
  },
  {
    "赛季": "10-11",
    "球队": "热火",
    "出场": 79,
    "首发": 79,
    "时间": 38.8,
    "投篮": "51.0%",
    "投篮命中": 9.6,
    "投篮出手": 18.8,
    "三分": "33.0%",
    "三分命中": 1.2,
    "三分出手": 3.5,
    "罚球": "75.9%",
    "罚球命中": 6.4,
    "罚球出手": 8.4,
    "篮板": 7.5,
    "前场": 1,
    "后场": 6.5,
    "助攻": 7,
    "抢断": 1.6,
    "盖帽": 0.6,
    "失误": 3.6,
    "犯规": 2.1,
    "得分": 26.7,
    "胜": 57,
    "负": 22
  },
  {
    "赛季": "11-12",
    "球队": "热火",
    "出场": 62,
    "首发": 62,
    "时间": 37.5,
    "投篮": "53.1%",
    "投篮命中": 10,
    "投篮出手": 18.9,
    "三分": "36.2%",
    "三分命中": 0.9,
    "三分出手": 2.4,
    "罚球": "77.1%",
    "罚球命中": 6.2,
    "罚球出手": 8.1,
    "篮板": 7.9,
    "前场": 1.5,
    "后场": 6.4,
    "助攻": 6.2,
    "抢断": 1.9,
    "盖帽": 0.8,
    "失误": 3.4,
    "犯规": 1.5,
    "得分": 27.1,
    "胜": 45,
    "负": 17
  },
  {
    "赛季": "12-13",
    "球队": "热火",
    "出场": 76,
    "首发": 76,
    "时间": 37.9,
    "投篮": "56.5%",
    "投篮命中": 10.1,
    "投篮出手": 17.8,
    "三分": "40.6%",
    "三分命中": 1.4,
    "三分出手": 3.3,
    "罚球": "75.3%",
    "罚球命中": 5.3,
    "罚球出手": 7,
    "篮板": 8,
    "前场": 1.3,
    "后场": 6.8,
    "助攻": 7.3,
    "抢断": 1.7,
    "盖帽": 0.9,
    "失误": 3,
    "犯规": 1.4,
    "得分": 26.8,
    "胜": 61,
    "负": 15
  },
  {
    "赛季": "13-14",
    "球队": "热火",
    "出场": 77,
    "首发": 77,
    "时间": 37.7,
    "投篮": "56.7%",
    "投篮命中": 10,
    "投篮出手": 17.6,
    "三分": "37.9%",
    "三分命中": 1.5,
    "三分出手": 4,
    "罚球": "75.0%",
    "罚球命中": 5.7,
    "罚球出手": 7.6,
    "篮板": 6.9,
    "前场": 1.1,
    "后场": 5.9,
    "助攻": 6.3,
    "抢断": 1.6,
    "盖帽": 0.3,
    "失误": 3.5,
    "犯规": 1.6,
    "得分": 27.1,
    "胜": 52,
    "负": 25
  },
  {
    "赛季": "14-15",
    "球队": "骑士",
    "出场": 69,
    "首发": 69,
    "时间": 36.1,
    "投篮": "48.8%",
    "投篮命中": 9,
    "投篮出手": 18.5,
    "三分": "35.4%",
    "三分命中": 1.7,
    "三分出手": 4.9,
    "罚球": "71.0%",
    "罚球命中": 5.4,
    "罚球出手": 7.7,
    "篮板": 6,
    "前场": 0.7,
    "后场": 5.3,
    "助攻": 7.4,
    "抢断": 1.6,
    "盖帽": 0.7,
    "失误": 3.9,
    "犯规": 2,
    "得分": 25.3,
    "胜": 50,
    "负": 19
  },
  {
    "赛季": "15-16",
    "球队": "骑士",
    "出场": 76,
    "首发": 76,
    "时间": 35.7,
    "投篮": "52.0%",
    "投篮命中": 9.7,
    "投篮出手": 18.6,
    "三分": "30.9%",
    "三分命中": 1.1,
    "三分出手": 3.7,
    "罚球": "73.1%",
    "罚球命中": 4.7,
    "罚球出手": 6.5,
    "篮板": 7.4,
    "前场": 1.5,
    "后场": 6,
    "助攻": 6.8,
    "抢断": 1.4,
    "盖帽": 0.6,
    "失误": 3.3,
    "犯规": 1.9,
    "得分": 25.3,
    "胜": 56,
    "负": 20
  },
  {
    "赛季": "16-17",
    "球队": "骑士",
    "出场": 74,
    "首发": 74,
    "时间": 37.8,
    "投篮": "54.8%",
    "投篮命中": 9.9,
    "投篮出手": 18.2,
    "三分": "36.3%",
    "三分命中": 1.7,
    "三分出手": 4.6,
    "罚球": "67.4%",
    "罚球命中": 4.8,
    "罚球出手": 7.2,
    "篮板": 8.6,
    "前场": 1.3,
    "后场": 7.3,
    "助攻": 8.7,
    "抢断": 1.2,
    "盖帽": 0.6,
    "失误": 4.1,
    "犯规": 1.8,
    "得分": 26.4,
    "胜": 51,
    "负": 23
  },
  {
    "赛季": "17-18",
    "球队": "骑士",
    "出场": 82,
    "首发": 82,
    "时间": 36.9,
    "投篮": "54.2%",
    "投篮命中": 10.5,
    "投篮出手": 19.3,
    "三分": "36.7%",
    "三分命中": 1.8,
    "三分出手": 5,
    "罚球": "73.1%",
    "罚球命中": 4.7,
    "罚球出手": 6.5,
    "篮板": 8.6,
    "前场": 1.2,
    "后场": 7.5,
    "助攻": 9.1,
    "抢断": 1.4,
    "盖帽": 0.9,
    "失误": 4.2,
    "犯规": 1.7,
    "得分": 27.5,
    "胜": 50,
    "负": 32
  },
  {
    "赛季": "18-19",
    "球队": "湖人",
    "出场": 55,
    "首发": 55,
    "时间": 35.2,
    "投篮": "51.0%",
    "投篮命中": 10.1,
    "投篮出手": 19.9,
    "三分": "33.9%",
    "三分命中": 2,
    "三分出手": 5.9,
    "罚球": "66.5%",
    "罚球命中": 5.1,
    "罚球出手": 7.6,
    "篮板": 8.5,
    "前场": 1,
    "后场": 7.4,
    "助攻": 8.3,
    "抢断": 1.3,
    "盖帽": 0.6,
    "失误": 3.6,
    "犯规": 1.7,
    "得分": 27.4,
    "胜": 28,
    "负": 27
  },
  {
    "赛季": "19-20",
    "球队": "湖人",
    "出场": 67,
    "首发": 67,
    "时间": 34.6,
    "投篮": "49.30%",
    "投篮命中": 9.6,
    "投篮出手": 19.4,
    "三分": "34.80%",
    "三分命中": 2.2,
    "三分出手": 6.3,
    "罚球": "69.30%",
    "罚球命中": 3.9,
    "罚球出手": 5.7,
    "篮板": 7.8,
    "前场": 1,
    "后场": 6.9,
    "助攻": 10.2,
    "抢断": 1.2,
    "盖帽": 0.5,
    "失误": 4,
    "犯规": 1.8,
    "得分": 25.3,
    "胜": 47,
    "负": 13
  }
]
function InitData () {
  var data = RegularData
  for (var i = 0; i < 17; i++) {
    saiji.push(data[i].赛季)
    shijian.push(data[i].时间)
    var temp = data[i].投篮.replace('%', '')
    temp = parseFloat((temp / 1.0).toFixed(1))
    toulan.push(temp)
    temp = data[i].三分.replace('%', '')
    temp = parseFloat((temp / 1.0).toFixed(1))
    sanfen.push(temp)
    defen.push(data[i].得分)
    lanban.push(data[i].篮板)
    zhugong.push(data[i].助攻)
  }
  display = defen.concat()
  DrawData()
}

function DrawData () {
  var temp = []
  var sources = []
  for (var i = 1, mymin = display[0], mymax = display[0]; i < 17; i++) {
    if (display[i] > mymax) mymax = display[i]
    if (display[i] < mymin) mymin = display[i]
  }
  for (var i = 0; i < 17; i++) {
    temp.push(display[i])
    temp.push(saiji[i])
  }
  for (var i = 0; i < 33; i += 2) {
    var t = []
    t.push(temp[i])
    t.push(temp[i + 1])
    sources.push(t)
  }
  var dom = document.getElementById('echart1')
  var myChart = echarts.init(dom)
  var app = {}
  option = null
  option = {
    dataset: {
      source: sources,
    },
    tooltip: {
      trigger: 'axis',
      formatter: function (params) {
        if (display[0] == defen[0])
          return (
            params[0].name +
            '赛季' +
            '<br>' +
            params[0].marker +
            params[0].data[0] +
            '分'
          )
        else if (display[0] == lanban[0] || display[0] == zhugong[0])
          return (
            params[0].name +
            '赛季' +
            '<br>' +
            params[0].marker +
            params[0].data[0] +
            '个'
          )
        else if (display[0] == shijian[0])
          return (
            params[0].name +
            '赛季' +
            '<br>' +
            params[0].marker +
            params[0].data[0] +
            '分钟'
          )
        else
          return (
            params[0].name +
            '赛季' +
            '<br>' +
            params[0].marker +
            params[0].data[0] +
            '%'
          )
      },
    },
    grid: { containLabel: true, top: '35px', left: '10px', right: '60px' },
    xAxis: {
      name: '数据',
      axisLabel: { textStyle: { color: '#ffffff' } }, //设置轴线的属性
      axisLine: {
        lineStyle: {
          color: '#ffffff',
        },
      },
    },
    yAxis: {
      name: '赛季',
      type: 'category',
      axisLabel: { textStyle: { color: '#ffffff' } },
      //设置轴线的属性
      axisLine: {
        lineStyle: {
          color: '#ffffff',
        },
      },
    },
    visualMap: {
      top: '548px',
      orient: 'horizontal',
      left: 'center',
      min: mymin,
      max: mymax,
      text: ['High', 'Low'],
      //文本格式
      textStyle: {
        color: '#ffffff',
      },
      // Map the score column to color
      dimension: 0,
      inRange: {
        color: ['#9400D3', '#FFD700'],
      },
    },
    series: [
      {
        type: 'bar',
        encode: {
          // Map the "amount" column to X axis.
          x: 'amount',
          // Map the "product" column to Y axis
          y: 'product',
        },
      },
    ],
  }
  if (option && typeof option === 'object') {
    myChart.setOption(option, true)
  }
}

//初始化
InitData()

$('#b_sdefen').click(function () {
  display.length = 0
  display = defen.concat()
  DrawData()
})

$('#b_slanban').click(function () {
  display.length = 0
  display = lanban.concat()
  DrawData()
})

$('#b_szhugong').click(function () {
  display.length = 0
  display = zhugong.concat()
  DrawData()
})
$('#b_sshijian').click(function () {
  display.length = 0
  display = shijian.concat()
  DrawData()
})
$('#b_stoulan').click(function () {
  display.length = 0
  display = toulan.concat()
  DrawData()
})
$('#b_ssanfen').click(function () {
  display.length = 0
  display = sanfen.concat()
  DrawData()
})
